{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0415\\u0432\\u0433\\u0435\\u043D\\u0438\\u044F \\u0428\\u0430\\u0432\\u043A\\u0443\\u043D\\\\Desktop\\\\test-app\\\\src\\\\pages\\\\ContactsPage.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Header from '../components/Header/Header';\nimport Toolbar from '../components/Toolbar/Toolbar';\nimport Contacts from '../components/Contacts/Contacts';\nimport { useAppActions, useAppSelector } from '../hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ContactsPage = () => {\n  _s();\n\n  const {\n    contacts,\n    filteredContacts,\n    contactsLoading,\n    contactsError\n  } = useAppSelector(state => state.contact);\n  const {\n    userId,\n    token,\n    authLoading,\n    authError\n  } = useAppSelector(state => state.auth);\n  const {\n    fetchContacts,\n    addContact,\n    editContact,\n    deleteContact,\n    searchContact,\n    clearContacts,\n    logout\n  } = useAppActions();\n  const [searchValue, setSearchValue] = useState('');\n  useEffect(() => {\n    searchContact(searchValue);\n  }, [contacts]);\n  useEffect(() => {\n    fetchContacts(userId, token);\n  }, []);\n\n  const handleLogout = () => {\n    logout();\n    clearContacts();\n  };\n\n  const handleAddContact = (surname, name) => {\n    if (userId) {\n      addContact(surname, name, userId, token);\n    }\n  };\n\n  const handleEditContact = (id, surname, name) => {\n    if (userId) {\n      editContact(id, surname, name, userId, token);\n    }\n  };\n\n  const handleDeleteContact = id => {\n    if (userId) {\n      deleteContact(id, token);\n    }\n  };\n\n  const handleSearch = searchValue => {\n    setSearchValue(searchValue);\n    searchContact(searchValue);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      pageTitle: \"Contacts list\",\n      onLogout: handleLogout,\n      loading: authLoading,\n      error: contactsError ? contactsError : authError ? authError : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n      onAddContact: handleAddContact,\n      onSearch: handleSearch,\n      loading: contactsLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Contacts, {\n      contacts: filteredContacts,\n      onEditContact: handleEditContact,\n      onDeleteContact: handleDeleteContact,\n      loading: contactsLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContactsPage, \"LucFV2h965gP00D0I23sdER506A=\", false, function () {\n  return [useAppSelector, useAppSelector, useAppActions];\n});\n\n_c = ContactsPage;\nexport default ContactsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContactsPage\");","map":{"version":3,"names":["React","useEffect","useState","Header","Toolbar","Contacts","useAppActions","useAppSelector","ContactsPage","contacts","filteredContacts","contactsLoading","contactsError","state","contact","userId","token","authLoading","authError","auth","fetchContacts","addContact","editContact","deleteContact","searchContact","clearContacts","logout","searchValue","setSearchValue","handleLogout","handleAddContact","surname","name","handleEditContact","id","handleDeleteContact","handleSearch"],"sources":["C:/Users/Евгения Шавкун/Desktop/test-app/src/pages/ContactsPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Header from '../components/Header/Header'\r\nimport Toolbar from '../components/Toolbar/Toolbar'\r\nimport Contacts from '../components/Contacts/Contacts'\r\nimport { useAppActions, useAppSelector } from '../hooks'\r\n\r\nconst ContactsPage = () => {\r\n  const { contacts, filteredContacts, contactsLoading, contactsError } = useAppSelector(\r\n    (state) => state.contact,\r\n  )\r\n  const { userId, token, authLoading, authError } = useAppSelector((state) => state.auth)\r\n  const {\r\n    fetchContacts,\r\n    addContact,\r\n    editContact,\r\n    deleteContact,\r\n    searchContact,\r\n    clearContacts,\r\n    logout,\r\n  } = useAppActions()\r\n  const [searchValue, setSearchValue] = useState('')\r\n\r\n  useEffect(() => {\r\n    searchContact(searchValue)\r\n  }, [contacts])\r\n\r\n  useEffect(() => {\r\n    fetchContacts(userId, token)\r\n  }, [])\r\n\r\n  const handleLogout = () => {\r\n    logout()\r\n    clearContacts()\r\n  }\r\n\r\n  const handleAddContact = (surname: string, name: string) => {\r\n    if (userId) {\r\n      addContact(surname, name, userId, token)\r\n    }\r\n  }\r\n\r\n  const handleEditContact = (id: number, surname: string, name: string) => {\r\n    if (userId) {\r\n      editContact(id, surname, name, userId, token)\r\n    }\r\n  }\r\n\r\n  const handleDeleteContact = (id: number) => {\r\n    if (userId) {\r\n      deleteContact(id, token)\r\n    }\r\n  }\r\n\r\n  const handleSearch = (searchValue: string) => {\r\n    setSearchValue(searchValue)\r\n    searchContact(searchValue)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header\r\n        pageTitle='Contacts list'\r\n        onLogout={handleLogout}\r\n        loading={authLoading}\r\n        error={contactsError ? contactsError : authError ? authError : null}\r\n      />\r\n      <Toolbar onAddContact={handleAddContact} onSearch={handleSearch} loading={contactsLoading} />\r\n      <Contacts\r\n        contacts={filteredContacts}\r\n        onEditContact={handleEditContact}\r\n        onDeleteContact={handleDeleteContact}\r\n        loading={contactsLoading}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ContactsPage"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,QAAP,MAAqB,iCAArB;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,UAA9C;;;AAEA,MAAMC,YAAY,GAAG,MAAM;EAAA;;EACzB,MAAM;IAAEC,QAAF;IAAYC,gBAAZ;IAA8BC,eAA9B;IAA+CC;EAA/C,IAAiEL,cAAc,CAClFM,KAAD,IAAWA,KAAK,CAACC,OADkE,CAArF;EAGA,MAAM;IAAEC,MAAF;IAAUC,KAAV;IAAiBC,WAAjB;IAA8BC;EAA9B,IAA4CX,cAAc,CAAEM,KAAD,IAAWA,KAAK,CAACM,IAAlB,CAAhE;EACA,MAAM;IACJC,aADI;IAEJC,UAFI;IAGJC,WAHI;IAIJC,aAJI;IAKJC,aALI;IAMJC,aANI;IAOJC;EAPI,IAQFpB,aAAa,EARjB;EASA,MAAM,CAACqB,WAAD,EAAcC,cAAd,IAAgC1B,QAAQ,CAAC,EAAD,CAA9C;EAEAD,SAAS,CAAC,MAAM;IACduB,aAAa,CAACG,WAAD,CAAb;EACD,CAFQ,EAEN,CAAClB,QAAD,CAFM,CAAT;EAIAR,SAAS,CAAC,MAAM;IACdmB,aAAa,CAACL,MAAD,EAASC,KAAT,CAAb;EACD,CAFQ,EAEN,EAFM,CAAT;;EAIA,MAAMa,YAAY,GAAG,MAAM;IACzBH,MAAM;IACND,aAAa;EACd,CAHD;;EAKA,MAAMK,gBAAgB,GAAG,CAACC,OAAD,EAAkBC,IAAlB,KAAmC;IAC1D,IAAIjB,MAAJ,EAAY;MACVM,UAAU,CAACU,OAAD,EAAUC,IAAV,EAAgBjB,MAAhB,EAAwBC,KAAxB,CAAV;IACD;EACF,CAJD;;EAMA,MAAMiB,iBAAiB,GAAG,CAACC,EAAD,EAAaH,OAAb,EAA8BC,IAA9B,KAA+C;IACvE,IAAIjB,MAAJ,EAAY;MACVO,WAAW,CAACY,EAAD,EAAKH,OAAL,EAAcC,IAAd,EAAoBjB,MAApB,EAA4BC,KAA5B,CAAX;IACD;EACF,CAJD;;EAMA,MAAMmB,mBAAmB,GAAID,EAAD,IAAgB;IAC1C,IAAInB,MAAJ,EAAY;MACVQ,aAAa,CAACW,EAAD,EAAKlB,KAAL,CAAb;IACD;EACF,CAJD;;EAMA,MAAMoB,YAAY,GAAIT,WAAD,IAAyB;IAC5CC,cAAc,CAACD,WAAD,CAAd;IACAH,aAAa,CAACG,WAAD,CAAb;EACD,CAHD;;EAKA,oBACE;IAAA,wBACE,QAAC,MAAD;MACE,SAAS,EAAC,eADZ;MAEE,QAAQ,EAAEE,YAFZ;MAGE,OAAO,EAAEZ,WAHX;MAIE,KAAK,EAAEL,aAAa,GAAGA,aAAH,GAAmBM,SAAS,GAAGA,SAAH,GAAe;IAJjE;MAAA;MAAA;MAAA;IAAA,QADF,eAOE,QAAC,OAAD;MAAS,YAAY,EAAEY,gBAAvB;MAAyC,QAAQ,EAAEM,YAAnD;MAAiE,OAAO,EAAEzB;IAA1E;MAAA;MAAA;MAAA;IAAA,QAPF,eAQE,QAAC,QAAD;MACE,QAAQ,EAAED,gBADZ;MAEE,aAAa,EAAEuB,iBAFjB;MAGE,eAAe,EAAEE,mBAHnB;MAIE,OAAO,EAAExB;IAJX;MAAA;MAAA;MAAA;IAAA,QARF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAiBD,CArED;;GAAMH,Y;UACmED,c,EAGrBA,c,EAS9CD,a;;;KAbAE,Y;AAuEN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}